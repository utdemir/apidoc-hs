<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Stream</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Stream.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network.Stream.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">HTTP-4000.3.6: A library for client-side HTTP</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>See LICENSE file</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Maintainer</th><td>Ganesh Sittampalam &lt;ganesh@earth.li&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable (not tested)</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Network.Stream</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>An library for creating abstract streams. Originally part of Gray's\/Bringert's
 HTTP module.</p><ul><li>Changes by Robin Bate Boerop <a href="robin@bateboerop.name">robin@bateboerop.name</a>:</li><li>Removed unnecessary import statements.</li><li>Moved Debug code to StreamDebugger.hs</li><li>Moved Socket-related code to StreamSocket.hs.</li><li>Changes by Simon Foster:</li><li>Split Network.HTTPmodule up into to separate
        Network.[Stream,TCP,HTTP] modules</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="#t:Stream">Stream</a> x <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ConnError">ConnError</a><ul class="subs"><li>= <a href="#v:ErrorReset">ErrorReset</a></li><li>| <a href="#v:ErrorClosed">ErrorClosed</a></li><li>| <a href="#v:ErrorParse">ErrorParse</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:ErrorMisc">ErrorMisc</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Result">Result</a> a = <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="Network-Stream.html#t:ConnError">ConnError</a> a</li><li class="src short"><a href="#v:bindE">bindE</a> :: <a href="Network-Stream.html#t:Result">Result</a> a -&gt; (a -&gt; <a href="Network-Stream.html#t:Result">Result</a> b) -&gt; <a href="Network-Stream.html#t:Result">Result</a> b</li><li class="src short"><a href="#v:fmapE">fmapE</a> :: (a -&gt; <a href="Network-Stream.html#t:Result">Result</a> b) -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> a) -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> b)</li><li class="src short"><a href="#v:failParse">failParse</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a</li><li class="src short"><a href="#v:failWith">failWith</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a</li><li class="src short"><a href="#v:failMisc">failMisc</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Stream" class="def">Stream</a> x <span class="keyword">where</span> <a href="src/Network.Stream.html#Stream" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></p><div class="doc"><p>Streams should make layering of TLS protocol easier in future,
 they allow reading/writing to files etc for debugging,
 they allow use of protocols other than TCP/IP
 and they allow customisation.</p><p>Instances of this class should not trim
 the input in any way, e.g. leave LF on line
 endings etc. Unless that is exactly the behaviour
 you want from your twisted instances ;)</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Network-Stream.html#v:readLine">readLine</a>, <a href="Network-Stream.html#v:readBlock">readBlock</a>, <a href="Network-Stream.html#v:writeBlock">writeBlock</a>, <a href="Network-Stream.html#v:close">close</a>, <a href="Network-Stream.html#v:closeOnEnd">closeOnEnd</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:readLine" class="def">readLine</a> :: x -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readLine" class="link">Source</a> <a href="#v:readLine" class="selflink">#</a></p><p class="src"><a id="v:readBlock" class="def">readBlock</a> :: x -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readBlock" class="link">Source</a> <a href="#v:readBlock" class="selflink">#</a></p><p class="src"><a id="v:writeBlock" class="def">writeBlock</a> :: x -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> ()) <a href="src/Network.Stream.html#writeBlock" class="link">Source</a> <a href="#v:writeBlock" class="selflink">#</a></p><p class="src"><a id="v:close" class="def">close</a> :: x -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#close" class="link">Source</a> <a href="#v:close" class="selflink">#</a></p><p class="src"><a id="v:closeOnEnd" class="def">closeOnEnd</a> :: x -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#closeOnEnd" class="link">Source</a> <a href="#v:closeOnEnd" class="selflink">#</a></p></div><div class="subs instances"><p id="control.i:Stream" class="caption collapser" onclick="toggleSection('i:Stream')">Instances</p><div id="section.i:Stream" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:Stream:Stream:1" class="instance expander" onclick="toggleSection('i:ic:Stream:Stream:1')"></span> <a href="Network-Stream.html#t:Stream">Stream</a> <a href="Network-TCP.html#t:Connection">Connection</a></span> <a href="src/Network.Stream.html#line-175" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:Stream:Stream:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readLine">readLine</a> :: <a href="Network-TCP.html#t:Connection">Connection</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readLine" class="link">Source</a> <a href="#v:readLine" class="selflink">#</a></p><p class="src"><a href="#v:readBlock">readBlock</a> :: <a href="Network-TCP.html#t:Connection">Connection</a> -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readBlock" class="link">Source</a> <a href="#v:readBlock" class="selflink">#</a></p><p class="src"><a href="#v:writeBlock">writeBlock</a> :: <a href="Network-TCP.html#t:Connection">Connection</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> ()) <a href="src/Network.Stream.html#writeBlock" class="link">Source</a> <a href="#v:writeBlock" class="selflink">#</a></p><p class="src"><a href="#v:close">close</a> :: <a href="Network-TCP.html#t:Connection">Connection</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#close" class="link">Source</a> <a href="#v:close" class="selflink">#</a></p><p class="src"><a href="#v:closeOnEnd">closeOnEnd</a> :: <a href="Network-TCP.html#t:Connection">Connection</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#closeOnEnd" class="link">Source</a> <a href="#v:closeOnEnd" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:Stream:Stream:2" class="instance expander" onclick="toggleSection('i:ic:Stream:Stream:2')"></span> <a href="Network-Stream.html#t:Stream">Stream</a> x =&gt; <a href="Network-Stream.html#t:Stream">Stream</a> (<a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x)</span> <a href="src/Network.Stream.html#line-36" class="link">Source</a> <a href="#t:Stream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:Stream:Stream:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readLine">readLine</a> :: <a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readLine" class="link">Source</a> <a href="#v:readLine" class="selflink">#</a></p><p class="src"><a href="#v:readBlock">readBlock</a> :: <a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x -&gt; <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Network.Stream.html#readBlock" class="link">Source</a> <a href="#v:readBlock" class="selflink">#</a></p><p class="src"><a href="#v:writeBlock">writeBlock</a> :: <a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> ()) <a href="src/Network.Stream.html#writeBlock" class="link">Source</a> <a href="#v:writeBlock" class="selflink">#</a></p><p class="src"><a href="#v:close">close</a> :: <a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#close" class="link">Source</a> <a href="#v:close" class="selflink">#</a></p><p class="src"><a href="#v:closeOnEnd">closeOnEnd</a> :: <a href="Network-StreamDebugger.html#t:StreamDebugger">StreamDebugger</a> x -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Network.Stream.html#closeOnEnd" class="link">Source</a> <a href="#v:closeOnEnd" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ConnError" class="def">ConnError</a> <a href="src/Network.Stream.html#ConnError" class="link">Source</a> <a href="#t:ConnError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ErrorReset" class="def">ErrorReset</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrorClosed" class="def">ErrorClosed</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrorParse" class="def">ErrorParse</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ErrorMisc" class="def">ErrorMisc</a> <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ConnError" class="caption collapser" onclick="toggleSection('i:ConnError')">Instances</p><div id="section.i:ConnError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ConnError:Eq:1" class="instance expander" onclick="toggleSection('i:id:ConnError:Eq:1')"></span> <a href="../base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Network-Stream.html#t:ConnError">ConnError</a></span> <a href="src/Network.Stream.html#line-42" class="link">Source</a> <a href="#t:ConnError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ConnError:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ConnError:Show:2" class="instance expander" onclick="toggleSection('i:id:ConnError:Show:2')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> <a href="Network-Stream.html#t:ConnError">ConnError</a></span> <a href="src/Network.Stream.html#line-42" class="link">Source</a> <a href="#t:ConnError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ConnError:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Stream.html#t:ConnError">ConnError</a>] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ConnError:Error:3" class="instance expander" onclick="toggleSection('i:id:ConnError:Error:3')"></span> <a href="../mtl-2.2.1/Control-Monad-Error-Class.html#t:Error">Error</a> <a href="Network-Stream.html#t:ConnError">ConnError</a></span> <a href="src/Network.Stream.html#line-44" class="link">Source</a> <a href="#t:ConnError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ConnError:Error:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noMsg">noMsg</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> <a href="#v:noMsg" class="selflink">#</a></p><p class="src"><a href="#v:strMsg">strMsg</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Network-Stream.html#t:ConnError">ConnError</a> <a href="#v:strMsg" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Result" class="def">Result</a> a = <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> <a href="Network-Stream.html#t:ConnError">ConnError</a> a <a href="src/Network.Stream.html#Result" class="link">Source</a> <a href="#t:Result" class="selflink">#</a></p><div class="doc"><p>This is the type returned by many exported network functions.</p></div></div><div class="top"><p class="src"><a id="v:bindE" class="def">bindE</a> :: <a href="Network-Stream.html#t:Result">Result</a> a -&gt; (a -&gt; <a href="Network-Stream.html#t:Result">Result</a> b) -&gt; <a href="Network-Stream.html#t:Result">Result</a> b <a href="src/Network.Stream.html#bindE" class="link">Source</a> <a href="#v:bindE" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:fmapE" class="def">fmapE</a> :: (a -&gt; <a href="Network-Stream.html#t:Result">Result</a> b) -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> a) -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> (<a href="Network-Stream.html#t:Result">Result</a> b) <a href="src/Network.Stream.html#fmapE" class="link">Source</a> <a href="#v:fmapE" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:failParse" class="def">failParse</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a <a href="src/Network.Stream.html#failParse" class="link">Source</a> <a href="#v:failParse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:failWith" class="def">failWith</a> :: <a href="Network-Stream.html#t:ConnError">ConnError</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a <a href="src/Network.Stream.html#failWith" class="link">Source</a> <a href="#v:failWith" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:failMisc" class="def">failMisc</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Network-Stream.html#t:Result">Result</a> a <a href="src/Network.Stream.html#failMisc" class="link">Source</a> <a href="#v:failMisc" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>