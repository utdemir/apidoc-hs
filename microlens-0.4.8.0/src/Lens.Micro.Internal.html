<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE
CPP,
FlexibleContexts,
FlexibleInstances,
UndecidableInstances,
RankNTypes,
ScopedTypeVariables,
KindSignatures,
TypeFamilies,
MultiParamTypeClasses,
FunctionalDependencies,
Unsafe
  #-}</span><span>
</span><a name="line-14"></a><span>
</span><a name="line-15"></a><span>
</span><a name="line-16"></a><span class="hs-comment">{- |
Module      :  Lens.Micro.Internal
Copyright   :  (C) 2013-2016 Edward Kmett, 2015-2016 Artyom
License     :  BSD-style (see the file LICENSE)

This module is needed to give other packages from the microlens family (like &lt;http://hackage.haskell.org/package/microlens-ghc microlens-ghc&gt;) access to functions and classes that don't need to be exported from &quot;Lens.Micro&quot; (because they just clutter the namespace). Also:

  * 'traversed' is here because otherwise there'd be a dependency cycle
  * 'sets' is here because it's used in RULEs

Classes like 'Each', 'Ixed', etc are provided for convenience &#8211; you're not supposed to export functions that work on all members of 'Ixed', for instance. Only microlens can do that. You mustn't declare instances of those classes for other types, either; these classes are incompatible with lens's classes, and by doing so you would divide the ecosystem.

If you absolutely need to define an instance (e.g. for internal use), only do it for your own types, because otherwise I might add an instance to one of the microlens packages later and if our instances are different it might lead to subtle bugs.
-}</span><span>
</span><a name="line-30"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lens</span><span class="hs-operator">.</span><span class="hs-identifier">Micro</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span>
</span><a name="line-31"></a><span class="hs-special">(</span><span>
</span><a name="line-32"></a><span>  </span><span class="hs-identifier">traversed</span><span class="hs-special">,</span><span>
</span><a name="line-33"></a><span>  </span><a href="Lens.Micro.Internal.html#traversed"><span class="hs-identifier hs-var">folded</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>  </span><span class="hs-identifier">foldring</span><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>  </span><a href="Lens.Micro.Internal.html#foldring"><span class="hs-identifier hs-var">foldrOf</span></a><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>  </span><span class="hs-identifier">foldMapOf</span><span class="hs-special">,</span><span>
</span><a name="line-37"></a><span>  </span><a href="Lens.Micro.Internal.html#foldMapOf"><span class="hs-identifier hs-var">sets</span></a><span class="hs-special">,</span><span>
</span><a name="line-38"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Lens.Micro.Internal.html#sets"><span class="hs-operator hs-var">#.</span></a><span> </span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Lens.Micro.Internal.html#%23."><span class="hs-operator hs-var">.#</span></a><span> </span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-40"></a><span>  </span><span class="hs-identifier">phantom</span><span class="hs-special">,</span><span>
</span><a name="line-41"></a><span>  </span><a href="Lens.Micro.Internal.html#phantom"><span class="hs-identifier hs-var">Each</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-42"></a><span>  </span><span class="hs-identifier">Index</span><span class="hs-special">,</span><span>
</span><a name="line-43"></a><span>  </span><span class="hs-identifier">IxValue</span><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span>  </span><a href="Lens.Micro.Internal.html#IxValue"><span class="hs-identifier hs-type">Ixed</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>  </span><a href="Lens.Micro.Internal.html#Ixed"><span class="hs-identifier hs-type">At</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-46"></a><span>  </span><span class="hs-identifier">ixAt</span><span class="hs-special">,</span><span>
</span><a name="line-47"></a><span>  </span><span class="hs-identifier">Field1</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-48"></a><span>  </span><a href="Lens.Micro.Internal.html#Field1"><span class="hs-identifier hs-type">Field2</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>  </span><a href="Lens.Micro.Internal.html#Field2"><span class="hs-identifier hs-type">Field3</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-50"></a><span>  </span><a href="Lens.Micro.Internal.html#Field3"><span class="hs-identifier hs-type">Field4</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>  </span><a href="Lens.Micro.Internal.html#Field4"><span class="hs-identifier hs-type">Field5</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-52"></a><span>  </span><a href="Lens.Micro.Internal.html#Field5"><span class="hs-identifier hs-type">Cons</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-53"></a><span>  </span><a href="Lens.Micro.Internal.html#Cons"><span class="hs-identifier hs-type">Snoc</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-54"></a><span>  </span><span class="hs-identifier">Strict</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span class="hs-special">)</span><span>
</span><a name="line-56"></a><span class="hs-keyword">where</span><span>
</span><a name="line-57"></a><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Lens</span><span class="hs-operator">.</span><span class="hs-identifier">Micro</span><span class="hs-operator">.</span><span class="hs-identifier">Type</span><span>
</span><a name="line-60"></a><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control</span><span class="hs-operator">.</span><span class="hs-identifier">Applicative</span><span>
</span><a name="line-62"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Monoid</span><span>
</span><a name="line-63"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Foldable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">F</span><span>
</span><a name="line-64"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Functor</span><span class="hs-operator">.</span><span class="hs-identifier">Identity</span><span>
</span><a name="line-65"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Complex</span><span>
</span><a name="line-66"></a><span>
</span><a name="line-67"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &gt;= 800</span><span>
</span><a name="line-68"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">List</span><span class="hs-operator">.</span><span class="hs-identifier">NonEmpty</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NonEmpty</span><span class="hs-special">)</span><span>
</span><a name="line-69"></a><span class="hs-cpp">#endif</span><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &lt; 710</span><span>
</span><a name="line-72"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Traversable</span><span>
</span><a name="line-73"></a><span class="hs-cpp">#endif</span><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &gt;= 708</span><span>
</span><a name="line-76"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Coerce</span><span>
</span><a name="line-77"></a><span class="hs-cpp">#else</span><span>
</span><a name="line-78"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Unsafe</span><span class="hs-operator">.</span><span class="hs-identifier">Coerce</span><span>
</span><a name="line-79"></a><span class="hs-cpp">#endif</span><span>
</span><a name="line-80"></a><span>
</span><a name="line-81"></a><span>
</span><a name="line-82"></a><span class="hs-comment">{- |
'traversed' traverses any 'Traversable' container (list, vector, @Map@, 'Maybe', you name it):

&gt;&gt;&gt; Just 1 ^.. traversed
[1]

'traversed' is the same as 'traverse', but can be faster thanks to magic rewrite rules.
-}</span><span>
</span><a name="line-90"></a><span class="hs-identifier">traversed</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Traversable</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Traversal</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-91"></a><span class="hs-identifier">traversed</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">traverse</span><span>
</span><a name="line-92"></a><span class="hs-pragma">{-# INLINE [0] traversed #-}</span><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-pragma">{-# RULES
&quot;traversed -&gt; mapped&quot;
  traversed = sets fmap :: Functor f =&gt; ASetter (f a) (f b) a b;
&quot;traversed -&gt; folded&quot;
  traversed = folded :: Foldable f =&gt; Getting (Endo r) (f a) a;
  #-}</span><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span class="hs-comment">{- |
'folded' is a fold for anything 'Foldable'. In a way, it's an opposite of
'mapped' &#8211; the most powerful getter, but can't be used as a setter.
-}</span><span>
</span><a name="line-105"></a><span class="hs-identifier">folded</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Foldable</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">SimpleFold</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-106"></a><span class="hs-identifier">folded</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">foldring</span><span> </span><span class="hs-identifier">F</span><span class="hs-operator">.</span><span class="hs-identifier">foldr</span><span>
</span><a name="line-107"></a><span class="hs-pragma">{-# INLINE folded #-}</span><span>
</span><a name="line-108"></a><span>
</span><a name="line-109"></a><span class="hs-identifier">foldring</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">t</span><span>
</span><a name="line-110"></a><span class="hs-identifier">foldring</span><span> </span><span class="hs-identifier">fr</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">phantom</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fr</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">fa</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">*&gt;</span><span> </span><span class="hs-identifier">fa</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">noEffect</span><span>
</span><a name="line-111"></a><span class="hs-pragma">{-# INLINE foldring #-}</span><span>
</span><a name="line-112"></a><span>
</span><a name="line-113"></a><span class="hs-identifier">foldrOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Getting</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Endo</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-114"></a><span class="hs-identifier">foldrOf</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">z</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">appEndo</span><span> </span><span class="hs-identifier">z</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">foldMapOf</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Endo</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><a name="line-115"></a><span class="hs-pragma">{-# INLINE foldrOf #-}</span><span>
</span><a name="line-116"></a><span>
</span><a name="line-117"></a><span class="hs-identifier">foldMapOf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Getting</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-118"></a><span class="hs-identifier">foldMapOf</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">getConst</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Const</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><a name="line-119"></a><span class="hs-pragma">{-# INLINE foldMapOf #-}</span><span>
</span><a name="line-120"></a><span>
</span><a name="line-121"></a><span class="hs-comment">{- |
'sets' creates an 'ASetter' from an ordinary function. (The only thing it does is wrapping and unwrapping 'Identity'.)
-}</span><span>
</span><a name="line-124"></a><span class="hs-identifier">sets</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ASetter</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-125"></a><span class="hs-identifier">sets</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Identity</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">runIdentity</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">g</span><span class="hs-special">)</span><span>
</span><a name="line-126"></a><span class="hs-pragma">{-# INLINE sets #-}</span><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-129"></a><span class="hs-comment">-- Control.Lens.Internal.Getter</span><span>
</span><a name="line-130"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-131"></a><span>
</span><a name="line-132"></a><span class="hs-comment">-- was renamed from &#8220;coerce&#8221;</span><span>
</span><a name="line-133"></a><span class="hs-identifier">phantom</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-134"></a><span class="hs-identifier">phantom</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">getConst</span><span>
</span><a name="line-135"></a><span class="hs-pragma">{-# INLINE phantom #-}</span><span>
</span><a name="line-136"></a><span>
</span><a name="line-137"></a><span class="hs-identifier">noEffect</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Monoid</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Const</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-138"></a><span class="hs-identifier">noEffect</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">phantom</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-139"></a><span class="hs-pragma">{-# INLINE noEffect #-}</span><span>
</span><a name="line-140"></a><span>
</span><a name="line-141"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-142"></a><span class="hs-comment">-- Data.Profunctor.Unsafe</span><span>
</span><a name="line-143"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &gt;= 708</span><span>
</span><a name="line-146"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Coercible</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span>
</span><a name="line-147"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">coerce</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">Coercible</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-148"></a><span>
</span><a name="line-149"></a><span class="hs-special">(</span><span> </span><a name="%23."><a href="Lens.Micro.Internal.html#%23."><span class="hs-operator">.#</span></a></a><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Coercible</span><span> </span><a name="local-6989586621679030926"><a href="#local-6989586621679030926"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a name="local-6989586621679030925"><a href="#local-6989586621679030925"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span>
</span><a name="line-150"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">.#</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">pbc</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">coerce</span><span> </span><span class="hs-identifier">pbc</span><span>
</span><a name="line-151"></a><span class="hs-cpp">#else</span><span>
</span><a name="line-152"></a><span class="hs-special">(</span><span> </span><a name=".%23"><a href="Lens.Micro.Internal.html#.%23"><span class="hs-operator">#.</span></a></a><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030927"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span>
</span><a name="line-153"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unsafeCoerce</span><span>
</span><a name="line-154"></a><span>
</span><a name="line-155"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">.#</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span>
</span><a name="line-156"></a><span class="hs-special">(</span><span> </span><span class="hs-operator">.#</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-identifier">pbc</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unsafeCoerce</span><span> </span><span class="hs-identifier">pbc</span><span>
</span><a name="line-157"></a><span class="hs-cpp">#endif</span><span>
</span><a name="line-158"></a><span>
</span><a name="line-159"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">9</span><span> </span><span class="hs-operator">#.</span><span>
</span><a name="line-160"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-operator">.#</span><span>
</span><a name="line-161"></a><span>
</span><a name="line-162"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-163"></a><span class="hs-comment">-- classes</span><span>
</span><a name="line-164"></a><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><a name="line-165"></a><span>
</span><a name="line-166"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-167"></a><span>  </span><span class="hs-comment">{- |
'each' tries to be a universal 'Traversal' &#8211; it behaves like 'traversed' in most situations, but also adds support for e.g. tuples with same-typed values:

&gt;&gt;&gt; (1,2) &amp; each %~ succ
(2,3)

&gt;&gt;&gt; [&quot;x&quot;, &quot;y&quot;, &quot;z&quot;] ^. each
&quot;xyz&quot;

However, note that 'each' doesn't work on /every/ instance of 'Traversable'. If you have a 'Traversable' which isn't supported by 'each', you can use 'traversed' instead. Personally, I like using 'each' instead of 'traversed' whenever possible &#8211; it's shorter and more descriptive.

You can use 'each' with these things:

@
'each' :: 'Traversal' [a] [b] a b

'each' :: 'Traversal' ('Maybe' a) ('Maybe' b) a b

'each' :: 'Traversal' (a,a) (b,b) a b
'each' :: 'Traversal' (a,a,a) (b,b,b) a b
'each' :: 'Traversal' (a,a,a,a) (b,b,b,b) a b
'each' :: 'Traversal' (a,a,a,a,a) (b,b,b,b,b) a b

'each' :: ('RealFloat' a, 'RealFloat' b) =&gt; 'Traversal' ('Complex' a) ('Complex' b) a b
@

You can also use 'each' with types from &lt;http://hackage.haskell.org/package/array array&gt;, &lt;http://hackage.haskell.org/package/bytestring bytestring&gt;, and &lt;http://hackage.haskell.org/package/containers containers&gt; by using &lt;http://hackage.haskell.org/package/microlens-ghc microlens-ghc&gt;, or additionally with types from &lt;http://hackage.haskell.org/package/vector vector&gt;, &lt;http://hackage.haskell.org/package/text text&gt;, and &lt;http://hackage.haskell.org/package/unordered-containers unordered-containers&gt; by using &lt;http://hackage.haskell.org/package/microlens-platform microlens-platform&gt;.
  -}</span><span>
</span><a name="line-195"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Traversal</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-196"></a><span>
</span><a name="line-197"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">a</span></a><span class="hs-glyph">~</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">q</span></a><span class="hs-glyph">~</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">q</span><span class="hs-special">,</span><span class="hs-identifier">r</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">q</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-198"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-199"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-200"></a><span>
</span><a name="line-201"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">s</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">q</span><span class="hs-special">,</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span class="hs-identifier">s</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">q</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-202"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-203"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-204"></a><span>
</span><a name="line-205"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">s</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">t</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">q</span><span class="hs-special">,</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span class="hs-identifier">s</span><span class="hs-special">,</span><span class="hs-identifier">t</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">q</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-206"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span>
</span><a name="line-207"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-208"></a><span>
</span><a name="line-209"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span class="hs-glyph">~</span><span class="hs-identifier">e</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">s</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">q</span><span class="hs-glyph">~</span><span class="hs-identifier">u</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">q</span><span class="hs-special">,</span><span class="hs-identifier">r</span><span class="hs-special">,</span><span class="hs-identifier">s</span><span class="hs-special">,</span><span class="hs-identifier">t</span><span class="hs-special">,</span><span class="hs-identifier">u</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">q</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-210"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">e</span><span>
</span><a name="line-211"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-212"></a><span>
</span><a name="line-213"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Complex</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Complex</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-214"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">:+</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator">:+</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-215"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-216"></a><span>
</span><a name="line-217"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">b</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-218"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">traversed</span><span>
</span><a name="line-219"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-220"></a><span>
</span><a name="line-221"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-222"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">traverse</span><span>
</span><a name="line-223"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span class="hs-cpp">#if __GLASGOW_HASKELL__ &gt;= 800</span><span>
</span><a name="line-226"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Each</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NonEmpty</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">NonEmpty</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-227"></a><span>  </span><span class="hs-identifier">each</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">traversed</span><span>
</span><a name="line-228"></a><span>  </span><span class="hs-pragma">{-# INLINE each #-}</span><span>
</span><a name="line-229"></a><span class="hs-cpp">#endif</span><span>
</span><a name="line-230"></a><span>
</span><a name="line-231"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span class="hs-identifier">Index</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span>
</span><a name="line-232"></a><span>
</span><a name="line-233"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span class="hs-identifier">IxValue</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span>
</span><a name="line-234"></a><span>
</span><a name="line-235"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a name="IxValue"><a href="Lens.Micro.Internal.html#IxValue"><span class="hs-identifier">Index</span></a></a><span>   </span><span class="hs-special">(</span><span class="hs-identifier">e</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">e</span><span>
</span><a name="line-236"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">IxValue</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">e</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-237"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Lens.Micro.Internal.html#Index"><span class="hs-identifier hs-type">Index</span></a><span>   </span><span class="hs-special">[</span><a href="#local-6989586621679034917"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Int</span><span>
</span><a name="line-238"></a><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Lens.Micro.Internal.html#IxValue"><span class="hs-identifier hs-type">IxValue</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679034915"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679034916"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-239"></a><span>
</span><a name="line-240"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Ixed</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-241"></a><span>  </span><span class="hs-comment">{- |
This traversal lets you access (and update) an arbitrary element in a list, array, @Map@, etc. (If you want to insert or delete elements as well, look at 'at'.)

An example for lists:

&gt;&gt;&gt; [0..5] &amp; ix 3 .~ 10
[0,1,2,10,4,5]

You can use it for getting, too:

&gt;&gt;&gt; [0..5] ^? ix 3
Just 3

Of course, the element may not be present (which means that you can use 'ix' as a safe variant of ('!!')):

&gt;&gt;&gt; [0..5] ^? ix 10
Nothing

Another useful instance is the one for functions &#8211; it lets you modify their outputs for specific inputs. For instance, here's 'maximum' that returns 0 when the list is empty (instead of throwing an exception):

@
maximum0 = 'maximum' 'Lens.Micro.&amp;' 'ix' [] 'Lens.Micro..~' 0
@

The following instances are provided in this package:

@
'ix' :: 'Int' -&gt; 'Traversal'' [a] a

'ix' :: ('Eq' e) =&gt; e -&gt; 'Traversal'' (e -&gt; a) a
@

You can also use 'ix' with types from &lt;http://hackage.haskell.org/package/array array&gt;, &lt;http://hackage.haskell.org/package/bytestring bytestring&gt;, and &lt;http://hackage.haskell.org/package/containers containers&gt; by using &lt;http://hackage.haskell.org/package/microlens-ghc microlens-ghc&gt;, or additionally with types from &lt;http://hackage.haskell.org/package/vector vector&gt;, &lt;http://hackage.haskell.org/package/text text&gt;, and &lt;http://hackage.haskell.org/package/unordered-containers unordered-containers&gt; by using &lt;http://hackage.haskell.org/package/microlens-platform microlens-platform&gt;.
  -}</span><span>
</span><a name="line-275"></a><span>  </span><span class="hs-identifier">ix</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Index</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Traversal'</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IxValue</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><a name="line-276"></a><span>
</span><a name="line-277"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Ixed</span><span> </span><a href="Lens.Micro.Internal.html#Index"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">At</span><span> </span><a href="Lens.Micro.Type.html#Traversal%27"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-278"></a><span>  </span><span class="hs-comment">{- |
This lens lets you read, write, or delete elements in @Map@-like structures. It returns 'Nothing' when the value isn't found, just like @lookup@:

@
Data.Map.lookup k m = m 'Lens.Micro.^.' at k
@

However, it also lets you insert and delete values by setting the value to @'Just' value@ or 'Nothing':

@
Data.Map.insert k a m = m 'Lens.Micro.&amp;' at k 'Lens.Micro..~' Just a

Data.Map.delete k m = m 'Lens.Micro.&amp;' at k 'Lens.Micro..~' Nothing
@

Or you could use ('Lens.Micro.?~') instead of ('Lens.Micro..~'):

@
Data.Map.insert k a m = m 'Lens.Micro.&amp;' at k 'Lens.Micro.?~' a
@

Note that 'at' doesn't work for arrays or lists. You can't delete an arbitrary element from an array (what would be left in its place?), and you can't set an arbitrary element in a list because if the index is out of list's bounds, you'd have to somehow fill the stretch between the last element and the element you just inserted (i.e. @[1,2,3] &amp; at 10 .~ 5@ is undefined). If you want to modify an already existing value in an array or list, you should use 'ix' instead.

'at' is often used with 'Lens.Micro.non'. See the documentation of 'Lens.Micro.non' for examples.

Note that 'at' isn't strict for @Map@, even if you're using @Data.Map.Strict@:

&gt;&gt;&gt; Data.Map.Strict.size (Data.Map.Strict.empty &amp; at 1 .~ Just undefined)
1

The reason for such behavior is that there's actually no &#8220;strict @Map@&#8221; type; @Data.Map.Strict@ just provides some strict functions for ordinary @Map@s.

This package doesn't actually provide any instances for 'at', but there are instances for @Map@ and @IntMap@ in &lt;http://hackage.haskell.org/package/microlens-ghc microlens-ghc&gt; and an instance for @HashMap@ in &lt;http://hackage.haskell.org/package/microlens-platform microlens-platform&gt;.
  -}</span><span>
</span><a name="line-312"></a><span>  </span><span class="hs-identifier">at</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Index</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Lens'</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IxValue</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-313"></a><span>
</span><a name="line-314"></a><span class="hs-identifier">ixAt</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Lens.Micro.Internal.html#Index"><span class="hs-identifier hs-type">At</span></a><span> </span><a href="Lens.Micro.Internal.html#Index"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Index</span><span> </span><a href="Lens.Micro.Type.html#Lens%27"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Traversal'</span><span> </span><a href="Lens.Micro.Internal.html#IxValue"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">IxValue</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><a name="line-315"></a><span class="hs-identifier">ixAt</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">at</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">traverse</span><span>
</span><a name="line-316"></a><span class="hs-pragma">{-# INLINE ixAt #-}</span><span>
</span><a name="line-317"></a><span>
</span><a name="line-318"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Eq</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Ixed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">e</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-319"></a><span>  </span><span class="hs-identifier">ix</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">e'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">e'</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">e'</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span>
</span><a name="line-320"></a><span>  </span><span class="hs-pragma">{-# INLINE ix #-}</span><span>
</span><a name="line-321"></a><span>
</span><a name="line-322"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Ixed</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-323"></a><span>  </span><span class="hs-identifier">ix</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">xs0</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">&lt;</span><span> </span><span class="hs-number">0</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">xs0</span><span>
</span><a name="line-324"></a><span>             </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">xs0</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-325"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><a name="local-6989586621679031297"><a href="#local-6989586621679031297"><span class="hs-identifier">_</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-326"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><a href="#local-6989586621679031298"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679031297"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-327"></a><span>    </span><a name="local-6989586621679031298"><a href="#local-6989586621679031298"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">a</span><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-identifier hs-var">i</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">go</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-operator">$!</span><span> </span><span class="hs-identifier">i</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span>  </span><span class="hs-pragma">{-# INLINE ix #-}</span><span>
</span><a name="line-329"></a><span>
</span><a name="line-330"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Field1</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-331"></a><span>  </span><span class="hs-comment">{- |
Gives access to the 1st field of a tuple (up to 5-tuples).

Getting the 1st component:

&gt;&gt;&gt; (1,2,3,4,5) ^. _1
1

Setting the 1st component:

&gt;&gt;&gt; (1,2,3) &amp; _1 .~ 10
(10,2,3)

Note that this lens is lazy, and can set fields even of 'undefined':

&gt;&gt;&gt; set _1 10 undefined :: (Int, Int)
(10,*** Exception: Prelude.undefined

This is done to avoid violating a lens law stating that you can get back what you put:

&gt;&gt;&gt; view _1 . set _1 10 $ (undefined :: (Int, Int))
10

The implementation (for 2-tuples) is:

@
'_1' f t = (,) '&lt;$&gt;' f    ('fst' t)
             '&lt;*&gt;' 'pure' ('snd' t)
@

or, alternatively,

@
'_1' f ~(a,b) = (\\a' -&gt; (a',b)) '&lt;$&gt;' f a
@

(where @~@ means a &lt;https://wiki.haskell.org/Lazy_pattern_match lazy pattern&gt;).

'_2', '_3', '_4', and '_5' are also available (see below).
  -}</span><span>
</span><a name="line-371"></a><span>  </span><span class="hs-identifier">_1</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-372"></a><span>
</span><a name="line-373"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field1</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030394"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679030395"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">a'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-374"></a><span>  </span><span class="hs-identifier">_1</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-375"></a><span>  </span><span class="hs-pragma">{-# INLINE _1 #-}</span><span>
</span><a name="line-376"></a><span>
</span><a name="line-377"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">a'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-378"></a><span>  </span><span class="hs-identifier">_1</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-379"></a><span>  </span><span class="hs-pragma">{-# INLINE _1 #-}</span><span>
</span><a name="line-380"></a><span>
</span><a name="line-381"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">a'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-382"></a><span>  </span><span class="hs-identifier">_1</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-383"></a><span>  </span><span class="hs-pragma">{-# INLINE _1 #-}</span><span>
</span><a name="line-384"></a><span>
</span><a name="line-385"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field1</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">a'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-386"></a><span>  </span><span class="hs-identifier">_1</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">a'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a'</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-387"></a><span>  </span><span class="hs-pragma">{-# INLINE _1 #-}</span><span>
</span><a name="line-388"></a><span>
</span><a name="line-389"></a><span class="hs-comment">{-

instance Field1 (a,b,c,d,e,f) (a',b,c,d,e,f) a a' where
  _1 k ~(a,b,c,d,e,f) = (\a' -&gt; (a',b,c,d,e,f)) &lt;$&gt; k a
  {-# INLINE _1 #-}

instance Field1 (a,b,c,d,e,f,g) (a',b,c,d,e,f,g) a a' where
  _1 k ~(a,b,c,d,e,f,g) = (\a' -&gt; (a',b,c,d,e,f,g)) &lt;$&gt; k a
  {-# INLINE _1 #-}

instance Field1 (a,b,c,d,e,f,g,h) (a',b,c,d,e,f,g,h) a a' where
  _1 k ~(a,b,c,d,e,f,g,h) = (\a' -&gt; (a',b,c,d,e,f,g,h)) &lt;$&gt; k a
  {-# INLINE _1 #-}

instance Field1 (a,b,c,d,e,f,g,h,i) (a',b,c,d,e,f,g,h,i) a a' where
  _1 k ~(a,b,c,d,e,f,g,h,i) = (\a' -&gt; (a',b,c,d,e,f,g,h,i)) &lt;$&gt; k a
  {-# INLINE _1 #-}

-}</span><span>
</span><a name="line-408"></a><span>
</span><a name="line-409"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Field2</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-410"></a><span>  </span><span class="hs-identifier">_2</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-411"></a><span>
</span><a name="line-412"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field2</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030390"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679030391"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">b'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-413"></a><span>  </span><span class="hs-identifier">_2</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">b'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-414"></a><span>  </span><span class="hs-pragma">{-# INLINE _2 #-}</span><span>
</span><a name="line-415"></a><span>
</span><a name="line-416"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field2</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">b'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-417"></a><span>  </span><span class="hs-identifier">_2</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">b'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-418"></a><span>  </span><span class="hs-pragma">{-# INLINE _2 #-}</span><span>
</span><a name="line-419"></a><span>
</span><a name="line-420"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field2</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">b'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-421"></a><span>  </span><span class="hs-identifier">_2</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">b'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-422"></a><span>  </span><span class="hs-pragma">{-# INLINE _2 #-}</span><span>
</span><a name="line-423"></a><span>
</span><a name="line-424"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field2</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">b'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-425"></a><span>  </span><span class="hs-identifier">_2</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">b'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b'</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-426"></a><span>  </span><span class="hs-pragma">{-# INLINE _2 #-}</span><span>
</span><a name="line-427"></a><span>
</span><a name="line-428"></a><span class="hs-comment">{-

instance Field2 (a,b,c,d,e,f) (a,b',c,d,e,f) b b' where
  _2 k ~(a,b,c,d,e,f) = (\b' -&gt; (a,b',c,d,e,f)) &lt;$&gt; k b
  {-# INLINE _2 #-}

instance Field2 (a,b,c,d,e,f,g) (a,b',c,d,e,f,g) b b' where
  _2 k ~(a,b,c,d,e,f,g) = (\b' -&gt; (a,b',c,d,e,f,g)) &lt;$&gt; k b
  {-# INLINE _2 #-}

instance Field2 (a,b,c,d,e,f,g,h) (a,b',c,d,e,f,g,h) b b' where
  _2 k ~(a,b,c,d,e,f,g,h) = (\b' -&gt; (a,b',c,d,e,f,g,h)) &lt;$&gt; k b
  {-# INLINE _2 #-}

instance Field2 (a,b,c,d,e,f,g,h,i) (a,b',c,d,e,f,g,h,i) b b' where
  _2 k ~(a,b,c,d,e,f,g,h,i) = (\b' -&gt; (a,b',c,d,e,f,g,h,i)) &lt;$&gt; k b
  {-# INLINE _2 #-}

-}</span><span>
</span><a name="line-447"></a><span>
</span><a name="line-448"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Field3</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-449"></a><span>  </span><span class="hs-identifier">_3</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-450"></a><span>
</span><a name="line-451"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field3</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030386"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679030387"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-identifier">c'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-452"></a><span>  </span><span class="hs-identifier">_3</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">c'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-453"></a><span>  </span><span class="hs-pragma">{-# INLINE _3 #-}</span><span>
</span><a name="line-454"></a><span>
</span><a name="line-455"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field3</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-identifier">c'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-456"></a><span>  </span><span class="hs-identifier">_3</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">c'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-457"></a><span>  </span><span class="hs-pragma">{-# INLINE _3 #-}</span><span>
</span><a name="line-458"></a><span>
</span><a name="line-459"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field3</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-identifier">c'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-460"></a><span>  </span><span class="hs-identifier">_3</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">c'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c'</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-461"></a><span>  </span><span class="hs-pragma">{-# INLINE _3 #-}</span><span>
</span><a name="line-462"></a><span>
</span><a name="line-463"></a><span class="hs-comment">{-

instance Field3 (a,b,c,d,e,f) (a,b,c',d,e,f) c c' where
  _3 k ~(a,b,c,d,e,f) = (\c' -&gt; (a,b,c',d,e,f)) &lt;$&gt; k c
  {-# INLINE _3 #-}

instance Field3 (a,b,c,d,e,f,g) (a,b,c',d,e,f,g) c c' where
  _3 k ~(a,b,c,d,e,f,g) = (\c' -&gt; (a,b,c',d,e,f,g)) &lt;$&gt; k c
  {-# INLINE _3 #-}

instance Field3 (a,b,c,d,e,f,g,h) (a,b,c',d,e,f,g,h) c c' where
  _3 k ~(a,b,c,d,e,f,g,h) = (\c' -&gt; (a,b,c',d,e,f,g,h)) &lt;$&gt; k c
  {-# INLINE _3 #-}

instance Field3 (a,b,c,d,e,f,g,h,i) (a,b,c',d,e,f,g,h,i) c c' where
  _3 k ~(a,b,c,d,e,f,g,h,i) = (\c' -&gt; (a,b,c',d,e,f,g,h,i)) &lt;$&gt; k c
  {-# INLINE _3 #-}

-}</span><span>
</span><a name="line-482"></a><span>
</span><a name="line-483"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Field4</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-484"></a><span>  </span><span class="hs-identifier">_4</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-485"></a><span>
</span><a name="line-486"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field4</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030382"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679030383"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d'</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-identifier">d'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-487"></a><span>  </span><span class="hs-identifier">_4</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d'</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">d</span><span>
</span><a name="line-488"></a><span>  </span><span class="hs-pragma">{-# INLINE _4 #-}</span><span>
</span><a name="line-489"></a><span>
</span><a name="line-490"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field4</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d'</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">d</span><span> </span><span class="hs-identifier">d'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-491"></a><span>  </span><span class="hs-identifier">_4</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">d'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d'</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">d</span><span>
</span><a name="line-492"></a><span>  </span><span class="hs-pragma">{-# INLINE _4 #-}</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span class="hs-comment">{-

instance Field4 (a,b,c,d,e,f) (a,b,c,d',e,f) d d' where
  _4 k ~(a,b,c,d,e,f) = (\d' -&gt; (a,b,c,d',e,f)) &lt;$&gt; k d
  {-# INLINE _4 #-}

instance Field4 (a,b,c,d,e,f,g) (a,b,c,d',e,f,g) d d' where
  _4 k ~(a,b,c,d,e,f,g) = (\d' -&gt; (a,b,c,d',e,f,g)) &lt;$&gt; k d
  {-# INLINE _4 #-}

instance Field4 (a,b,c,d,e,f,g,h) (a,b,c,d',e,f,g,h) d d' where
  _4 k ~(a,b,c,d,e,f,g,h) = (\d' -&gt; (a,b,c,d',e,f,g,h)) &lt;$&gt; k d
  {-# INLINE _4 #-}

instance Field4 (a,b,c,d,e,f,g,h,i) (a,b,c,d',e,f,g,h,i) d d' where
  _4 k ~(a,b,c,d,e,f,g,h,i) = (\d' -&gt; (a,b,c,d',e,f,g,h,i)) &lt;$&gt; k d
  {-# INLINE _4 #-}

-}</span><span>
</span><a name="line-513"></a><span>
</span><a name="line-514"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Field5</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-515"></a><span>  </span><span class="hs-identifier">_5</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-516"></a><span>
</span><a name="line-517"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Field5</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679030378"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679030379"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e'</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">e'</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-518"></a><span>  </span><span class="hs-identifier">_5</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">e'</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">c</span><span class="hs-special">,</span><span class="hs-identifier">d</span><span class="hs-special">,</span><span class="hs-identifier">e'</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">e</span><span>
</span><a name="line-519"></a><span>  </span><span class="hs-pragma">{-# INLINE _5 #-}</span><span>
</span><a name="line-520"></a><span>
</span><a name="line-521"></a><span class="hs-comment">{-

instance Field5 (a,b,c,d,e,f) (a,b,c,d,e',f) e e' where
  _5 k ~(a,b,c,d,e,f) = (\e' -&gt; (a,b,c,d,e',f)) &lt;$&gt; k e
  {-# INLINE _5 #-}

instance Field5 (a,b,c,d,e,f,g) (a,b,c,d,e',f,g) e e' where
  _5 k ~(a,b,c,d,e,f,g) = (\e' -&gt; (a,b,c,d,e',f,g)) &lt;$&gt; k e
  {-# INLINE _5 #-}

instance Field5 (a,b,c,d,e,f,g,h) (a,b,c,d,e',f,g,h) e e' where
  _5 k ~(a,b,c,d,e,f,g,h) = (\e' -&gt; (a,b,c,d,e',f,g,h)) &lt;$&gt; k e
  {-# INLINE _5 #-}

instance Field5 (a,b,c,d,e,f,g,h,i) (a,b,c,d,e',f,g,h,i) e e' where
  _5 k ~(a,b,c,d,e,f,g,h,i) = (\e' -&gt; (a,b,c,d,e',f,g,h,i)) &lt;$&gt; k e
  {-# INLINE _5 #-}

-}</span><span>
</span><a name="line-540"></a><span>
</span><a name="line-541"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Cons</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-542"></a><span>  </span><span class="hs-identifier">_Cons</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Traversal</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span class="hs-identifier">s</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span class="hs-special">,</span><span class="hs-identifier">t</span><span class="hs-special">)</span><span>
</span><a name="line-543"></a><span>
</span><a name="line-544"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Cons</span><span> </span><span class="hs-special">[</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">]</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-545"></a><span>  </span><span class="hs-identifier">_Cons</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">uncurry</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-546"></a><span>  </span><span class="hs-identifier">_Cons</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-547"></a><span>  </span><span class="hs-pragma">{-# INLINE _Cons #-}</span><span>
</span><a name="line-548"></a><span>
</span><a name="line-549"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Snoc</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-550"></a><span>  </span><span class="hs-identifier">_Snoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Traversal</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">s</span><span class="hs-special">,</span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">t</span><span class="hs-special">,</span><span class="hs-identifier">b</span><span class="hs-special">)</span><span>
</span><a name="line-551"></a><span>
</span><a name="line-552"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Snoc</span><span> </span><span class="hs-special">[</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><a href="Lens.Micro.Type.html#Traversal"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">]</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-553"></a><span>  </span><span class="hs-identifier">_Snoc</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-554"></a><span>  </span><span class="hs-identifier">_Snoc</span><span> </span><span class="hs-identifier">f</span><span> </span><a href="Lens.Micro.Internal.html#Snoc"><span class="hs-identifier hs-type">xs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-keyword">as</span><span class="hs-special">,</span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">init</span><span> </span><span class="hs-identifier">xs</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">last</span><span> </span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span>
</span><a name="line-555"></a><span>  </span><span class="hs-pragma">{-# INLINE _Snoc #-}</span><span>
</span><a name="line-556"></a><span>
</span><a name="line-557"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier">Strict</span><span> </span><span class="hs-identifier">lazy</span><span> </span><span class="hs-identifier">strict</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">lazy</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">strict</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">strict</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">lazy</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-558"></a><span>  </span><span class="hs-comment">{- |
'strict' lets you convert between strict and lazy versions of a datatype:

&gt;&gt;&gt; let someText = &quot;hello&quot; :: Lazy.Text
&gt;&gt;&gt; someText ^. strict
&quot;hello&quot; :: Strict.Text

It can also be useful if you have a function that works on a strict type but your type is lazy:

@
stripDiacritics :: Strict.Text -&gt; Strict.Text
stripDiacritics = ...
@

&gt;&gt;&gt; let someText = &quot;Paul Erd&#337;s&quot; :: Lazy.Text
&gt;&gt;&gt; someText &amp; strict %~ stripDiacritics
&quot;Paul Erdos&quot; :: Lazy.Text

'strict' works on @ByteString@ and @StateT@\/@WriterT@\/@RWST@ if you use &lt;http://hackage.haskell.org/package/microlens-ghc microlens-ghc&gt;, and additionally on @Text@ if you use &lt;http://hackage.haskell.org/package/microlens-platform microlens-platform&gt;.
  -}</span><span>
</span><a name="line-578"></a><span>  </span><span class="hs-identifier">strict</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens'</span><span> </span><span class="hs-identifier">lazy</span><span> </span><span class="hs-identifier">strict</span><span>
</span><a name="line-579"></a><span>
</span><a name="line-580"></a><span>  </span><span class="hs-comment">{- |
'lazy' is like 'strict' but works in opposite direction:

&gt;&gt;&gt; let someText = &quot;hello&quot; :: Strict.Text
&gt;&gt;&gt; someText ^. lazy
&quot;hello&quot; :: Lazy.Text
  -}</span><span>
</span><a name="line-587"></a><span>  </span><span class="hs-identifier">lazy</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Lens'</span><span> </span><span class="hs-identifier">strict</span><span> </span><span class="hs-identifier">lazy</span><span>
</span><a name="line-588"></a></pre></body></html>